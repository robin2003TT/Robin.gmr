<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robin Rizz</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Yo, I'm Robin!</h1>
    
    <img src="Robin.jpeg" alt="Robin Image" id="profile-pic">

    <br>
    <button id="subscribeBtn">SUBSCRIBE</button>
    
    <!-- Socials button -->
    <button onclick="openSocials()">SOCIALS</button>

    <!-- Music Player -->
    <audio id="bg-music" autoplay>
        <source id="audio-source" src="showreel.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <div id="music-controls">
        <button onclick="prevSong()">⏪</button>
        <span id="music-name">Showreel</span>
        <button id="music-btn" onclick="toggleMusic()">▶️</button>
        <button onclick="nextSong()">⏩</button>
        <input type="range" id="music-progress" value="0" step="1">
        <select id="speed-control" onchange="changeSpeed()">
            <option value="0.5">0.5x</option>
            <option value="1" selected>1x</option>
            <option value="1.5">1.5x</option>
            <option value="2">2x</option>
        </select>
    </div>

    <script>
        // MUSIC LOGIC
        let music = document.getElementById("bg-music");
        let musicBtn = document.getElementById("music-btn");
        let audioSource = document.getElementById("audio-source");
        let musicName = document.getElementById("music-name");
        let progressBar = document.getElementById("music-progress");
        let speedControl = document.getElementById("speed-control");

        let songs = [
            { name: "Showreel", file: "showreel.mp3" },
            { name: "Joy", file: "joy.mp3" },
            { name: "Royalty", file: "Royalty.mp3" },
            { name: "Love Letter", file: "Love Letter.mp3" }
        ];

        let currentSongIndex = 0;

        function toggleMusic() {
            if (music.paused) {
                music.play();
                musicBtn.textContent = "⏸";
            } else {
                music.pause();
                musicBtn.textContent = "▶️";
            }
        }

        function nextSong() {
            currentSongIndex = (currentSongIndex + 1) % songs.length;
            changeSong();
        }

        function prevSong() {
            currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length;
            changeSong();
        }

        function changeSong() {
            audioSource.src = songs[currentSongIndex].file;
            musicName.textContent = songs[currentSongIndex].name;
            music.load();
            music.play();
            musicBtn.textContent = "⏸";
        }

        function changeSpeed() {
            music.playbackRate = parseFloat(speedControl.value);
        }

        music.addEventListener("timeupdate", function () {
            progressBar.value = (music.currentTime / music.duration) * 100;
        });

        progressBar.addEventListener("input", function () {
            music.currentTime = (progressBar.value / 100) * music.duration;
        });

        // SUBSCRIBE BUTTON WITH CONFETTI
        let button = document.getElementById("subscribeBtn");
        let isSubscribed = false;
        let youtubeLink = "https://youtube.com/@robin-999-1?si=92v3PiBmmyZyZchj";

        button.addEventListener("click", function() {
            if (!isSubscribed) {
                isSubscribed = true;
                button.textContent = "SUBSCRIBED";
                launchConfetti();
                setTimeout(() => {
                    window.open(youtubeLink, "_blank");
                }, 500);
            } else {
                let confirmUnsub = confirm("Are you sure you want to unsubscribe?");
                if (confirmUnsub) {
                    isSubscribed = false;
                    button.textContent = "SUBSCRIBE";
                }
            }
        });

        function launchConfetti() {
            const confettiCount = 100;
            const confettiContainer = document.createElement("div");
            confettiContainer.style.position = "fixed";
            confettiContainer.style.top = "0";
            confettiContainer.style.left = "0";
            confettiContainer.style.width = "100%";
            confettiContainer.style.height = "100%";
            confettiContainer.style.pointerEvents = "none";
            confettiContainer.style.overflow = "hidden";
            document.body.appendChild(confettiContainer);

            for (let i = 0; i < confettiCount; i++) {
                let confetti = document.createElement("div");
                confetti.style.position = "absolute";
                confetti.style.width = "10px";
                confetti.style.height = "10px";
                confetti.style.backgroundColor = randomColor();
                confetti.style.top = `${Math.random() * window.innerHeight}px`;
                confetti.style.left = `${Math.random() * window.innerWidth}px`;
                confetti.style.opacity = Math.random();
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                confetti.style.transition = "top 2s ease-out, opacity 2s";
                confettiContainer.appendChild(confetti);

                setTimeout(() => {
                    confetti.style.top = `${window.innerHeight + 50}px`;
                    confetti.style.opacity = "0";
                }, 10);
            }

            setTimeout(() => {
                confettiContainer.remove();
            }, 2000);
        }

        function randomColor() {
            let colors = ["#ff0000", "#ff7300", "#ffeb00", "#00ff26", "#00e1ff", "#7d00ff", "#ff00b3"];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        function openSocials() {
            window.open("socials.html", "_blank");
        }
    </script>
</body>
</html>
